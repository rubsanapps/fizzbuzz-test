<!doctype html>

<html lang="en">
<head>
    <meta charset="utf-8">

    <title>FizzBuzz test</title>

	<meta name="description" content="Fizz Buzz test">
	<meta name="author" content="Rubén Arribas Barrio">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
	<link rel="stylesheet" href="css/custom.css">

</head>

<body>
	<div class="container" style="background-image: url('images/bg.jpg');">
		<div class="wrap p-l-55 p-r-55 p-t-80 p-b-30">
			<form>
				<span class="form-title p-b-30">
					Fizz Buzz
				</span>

				<label for="number">Introduce un número:</label>

				<div class="wrap-input100 m-b-20">
					<input type="number" id="number" class="form-control" aria-label="Large" aria-describedby="inputGroup-sizing-sm" placeholder="Número del 1 al 100" min="1" max="100">
				</div>

				<div class="text-center m-b-20">
					<button type="button" class="btn btn-outline-info">Enviar</button>
				</div>

				<div class="alert alert-info" role="alert">
					Respuesta: <span id="result"></span>
				</div>

			</form>
		</div>
	</div>
	
	<script src="https://code.jquery.com/jquery-3.5.1.min.js"
			integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
			crossorigin="anonymous"></script>

	<script>

		$("form").on('submit', function (e) {
			e.preventDefault();
			sendNumber($('#number').val());
		});

		$("#number").on('change', function (e) {
			e.preventDefault();
			sendNumber(this.value);
		});

		function sendNumber(n) {

			$.getJSON('http://localhost:8080/api/fizzbuzz/'+n, {}, 
			function(data){
				$("#result").html(data);
			});
		}

	</script>
</body>
</html>